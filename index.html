<!DOCTYPE html>
<!-- main home page -->
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="https://momentjs.com/downloads/moment.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/tabulator/3.1.1/css/tabulator.min.css" rel="stylesheet">
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tabulator/3.1.1/js/tabulator.min.js"></script>
<link href="css/chosen.min.css" rel="stylesheet" />
<script type="text/javascript" src="js/chosen.jquery.min.js"></script>

<link rel="stylesheet" href="css/photoswipe.css">
<link rel="stylesheet" href="css/default-skin/default-skin.css">
<script src="js/photoswipe.min.js"></script>
<script src="js/photoswipe-ui-default.min.js"></script>

<title>SPT Data Quality</title>

<!-- setup table style -->
<style>
table {
        border-collapse: collapse;
            width: 100%;
        border: 1px solid black;
}

th, td {
        text-align: left;
            padding: 8px;
}

tr:nth-child(even){background-color: #f2f2f2}

th {
        background-color: #7195c4;
            color: white;
}
</style>

</head>


<body>
  <script type="text/javascript" src="js/date_form.js"></script>
  <script>
    // handles switching between plotting modes. Need to rebuild the table
    // to change # of selectable obs and load new plot types.
    function swtch(val) {
      if (val == "timeseries") {
        $("#example-table").tabulator("destroy");
        make_table(true);
      }
      else if (val == "individual") {
        $("#example-table").tabulator("destroy");
        make_table(4);
      }
      plot_list();
    }
  </script>

  <table>
    <tr>
      <th>Field</th>
      <th>Start</th>
      <th>End</th>
    </tr>
    <tr>
      <td>Date</td>
      <td><input type="text" id="date-from" name="date-from"></td>
      <td><input type="text" id="date-to" name="date-to"></td>
    </tr>
    <tr>
      <td>Obs ID</td>
      <td><input type="number" id="obsid-from" name="obsid-from"></td>
      <td><input type="number" id="obsid-to" name="obsid-to"></td>
    </tr>
    <tr>
      <td>Source</td>
      <td>
        <select type="text" id="obstype-search" class="chosen-select">
        <!-- WARNING: do not change value from "". If you do, the sql query
            breaks and will give a tabulator remote pagination error.
        -->
        <option value="">any</option>
        <option value="calibrator">calibrator</option>
        <option value="CenA">CenA</option>
        <option value="elnod">elnod</option>
        <option value="RCW38">RCW38</option>
        <option value="RCW38-pixelraster">RCW38-pixelraster</option>
        <option value="saturn">saturn</option>
        <option value="debug-forced-scanify">debug-forced-scanify</option>
        <option value="noise">noise</option>
        </select>
      </td>
      <td></td>
    </tr>
    <tr>
      <td>Mode</td>
      <td>
        <input type="radio" value="individual" name="func"
          onclick="swtch('individual');" checked="checked"/>Individual</input>
        <input type="radio" value="timeseries" name="func"
          onclick="swtch('timeseries');"/>Timeseries</input>
      </td>
      <td></td>
    </tr>
  </table>

  <br>

  <button onclick="search()">Search</button>

  <button onclick='$("#example-table").tabulator("deselectRow");'>Deselect All
  </button>

  <button onclick="window.open('https://pole.uchicago.edu/spt3g/index.php/SPT_Data_Quality', '_blank');">Help</button>

  <button onclick="plot()">Plot</button>



  <br><br>

  <div id="plot-type">Plot type:</div>

  <br>

  <div id="example-table"></div>

  <script type="text/javascript" src="js/plot_list.js"></script>
  <script type="text/javascript" src="js/table.js"></script>

</body>
</html>
